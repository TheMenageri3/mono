enum InterviewType {
  PHONE_SCREEN
  TECHNICAL
  BEHAVIORAL
  ONSITE
  FINAL
}

enum InterviewStatus {
  SCHEDULED
  COMPLETED
  CANCELLED
  RESCHEDULED
}

enum LocationType {
  PHYSICAL
  VIRTUAL
}

model Interview {
  id                String          @id @default(uuid())
  jobApplicationId  String
  jobApplication    JobApplication  @relation(fields: [jobApplicationId], references: [id])
  type              InterviewType
  scheduledDate     DateTime
  durationMinutes   Int
  locationType      LocationType
  interviewers      User[]          @relation("InterviewInterviewers") //  (array of User IDs of interviewers)
  companyContactId  String?
  companyContact    CompanyContact? @relation(fields: [companyContactId], references: [id])
  preparationNotes  String?
  status            InterviewStatus
  feedback          String?
  candidateFeedback String?
  nextSteps         String?
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  deletedAt         DateTime?

  createdById String
  createdBy   User   @relation("InterviewCreatedBy", fields: [createdById], references: [id])
  updatedById String
  updatedBy   User   @relation("InterviewUpdatedBy", fields: [updatedById], references: [id])

  @@index([jobApplicationId])
  @@index([companyContactId])
  @@index([createdById])
  @@index([updatedById])
  @@map("interviews")
}
